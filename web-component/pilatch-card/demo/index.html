<!DOCTYPE html>
<html>
<head>
  <title>pilatch-card demo</title>
  <script src="../node_modules/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../node_modules/register-element/index.js"></script>
  <link rel="import" href="../pilatch-card.html">
  <link rel="stylesheet" type="text/css" href="../pilatch-card.css">
  <style>
  body {
    background-color: #eee;
  }
  </style>
</head>
<body>
  <p>
    TODO use web reflection or something instead of registerElement, as that isn't yet public.
    Also, consider how we can do event retargeting, so the code below doesn't have to be so verbose!
  </p>
  <h3>Five Of Scissors:</h3>
  <p><code>&lt;pilatch-card rank="5" suit="scissors" up clickable&gt;&lt;/pilatch-card&gt;</code></p>
  <p><code>&lt;pilatch-card rank="13" suit="paper" clickable&gt;&lt;/pilatch-card&gt;</code></p>
  <p><code>&lt;pilatch-card rank="12" suit="rock" up&gt;&lt;/pilatch-card&gt;</code></p>
  <pilatch-card rank="5" suit="scissors" up clickable></pilatch-card>
  <pilatch-card rank="13" suit="paper" clickable></pilatch-card>
  <pilatch-card rank="12" suit="rock" up></pilatch-card>

  <script>
    Array.prototype.forEach.call(document.querySelectorAll('pilatch-card[clickable]'), card => {
      card.addEventListener('click', event => {
        // Gotta do event retargeting!
        const host = event.target.closest('pilatch-card')

        if (host.hasAttribute('up')) {
          host.removeAttribute('up')
        } else {
          host.setAttribute('up', '')
        }
      })
    })
  </script>
</body>
</html>
